<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Normalization Simulator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Database Normalization Simulator</h1>
            <p class="subtitle">Compare Normalized vs Denormalized Database Performance</p>
            <p class="description">
                This interactive simulator demonstrates the performance differences between normalized and denormalized
                database schemas under OLTP (transactional) and OLAP (analytical) workloads using a fast food ordering scenario.
            </p>
        </header>

        <!-- Tab Navigation System -->
        <section class="tab-navigation">
            <div class="tab-header">
                <button class="tab-nav-button active" onclick="showTab('overview')">
                    <span class="tab-icon">üè†</span>
                    <span class="tab-text">Overview</span>
                </button>
                <button class="tab-nav-button" onclick="showTab('simulation')">
                    <span class="tab-icon">üß™</span>
                    <span class="tab-text">Simulation</span>
                </button>
                <button class="tab-nav-button" onclick="showTab('schemas')">
                    <span class="tab-icon">üìã</span>
                    <span class="tab-text">Schemas</span>
                </button>
            </div>

            <!-- Tab Content Sections -->
            <div class="tab-content">

                <!-- Overview Tab -->
                <div class="tab-panel active" id="overview">
                    <div class="welcome-section">
                        <h2>Welcome to Database Normalization Simulator</h2>
                        <p class="welcome-text">
                            This interactive tool demonstrates the performance differences between normalized and denormalized
                            database schemas using a fast food chain ordering scenario. Perfect for understanding database
                            design principles in educational settings.
                        </p>

                        <div class="quick-stats">
                            <div class="stat-card">
                                <div class="stat-number">80+</div>
                                <div class="stat-label">Sample Orders</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number">4</div>
                                <div class="stat-label">Store Locations</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number">2</div>
                                <div class="stat-label">Schema Types</div>
                            </div>
                        </div>

                        <div class="getting-started">
                            <h3>üöÄ Getting Started</h3>
                            <p>Choose a section above to explore different aspects of the simulation:</p>
                            <ul class="feature-list">
                                <li><strong>Simulation:</strong> Run simulations and view performance comparisons</li>
                                <li><strong>Schema Explorer:</strong> Examine database structure and sample data</li>
                            </ul>
                        </div>

                        <!-- Key Takeaways Section -->
                        <div class="key-takeaways-section">
                            <h3>üìö Key Takeaways</h3>
                            <div class="summary-grid">
                                <div class="summary-card normalized">
                                    <h4>‚úÖ Normalized Schema Advantages</h4>
                                    <ul>
                                        <li><strong>Data Integrity:</strong> Eliminates data redundancy and anomalies</li>
                                        <li><strong>ACID Compliance:</strong> Better support for transactions</li>
                                        <li><strong>Storage Efficiency:</strong> Minimal data duplication</li>
                                        <li><strong>Update Flexibility:</strong> Single point of truth for modifications</li>
                                        <li><strong>Referential Integrity:</strong> Foreign key constraints ensure consistency</li>
                                    </ul>
                                </div>

                                <div class="summary-card denormalized">
                                    <h4>‚ö° Denormalized Schema Advantages</h4>
                                    <ul>
                                        <li><strong>Query Performance:</strong> Faster reads with no JOINs required</li>
                                        <li><strong>Simplified Queries:</strong> Direct access to all needed data</li>
                                        <li><strong>Analytics Optimization:</strong> Pre-aggregated data for reporting</li>
                                        <li><strong>Reduced Complexity:</strong> Fewer tables to manage</li>
                                        <li><strong>Read-Heavy Optimization:</strong> Ideal for OLAP workloads</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Workload Recommendations Section -->
                        <div class="workload-recommendations-section">
                            <h3>üéØ Workload Recommendations</h3>
                            <div class="workload-cards">
                                <div class="workload-card oltp">
                                    <h4>OLTP (Transactional)</h4>
                                    <p><strong>Best Choice:</strong> Normalized Schema</p>
                                    <p>Frequent writes, updates, and deletes require data integrity and ACID properties.</p>
                                </div>
                                <div class="workload-card olap">
                                    <h4>OLAP (Analytical)</h4>
                                    <p><strong>Best Choice:</strong> Denormalized Schema</p>
                                    <p>Complex analytical queries benefit from pre-joined data and faster reads.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Schema Information Section -->
                        <div class="schema-info-section">
                            <h3>üìã Schema Information</h3>
                            <div class="info-panels">
                                <div class="info-panel">
                                    <h4>Normalized Schema (3NF)</h4>
                                    <ul>
                                        <li><strong>Advantages:</strong> Data integrity, minimal redundancy, flexible updates</li>
                                        <li><strong>Disadvantages:</strong> Complex joins, slower reads, more tables</li>
                                        <li><strong>Best for:</strong> OLTP operations (frequent writes)</li>
                                    </ul>
                                    <div class="schema-tables">
                                        <h5>Tables:</h5>
                                        <ul>
                                            <li><code>customers</code> - Customer information</li>
                                            <li><code>stores</code> - Store locations and details</li>
                                            <li><code>employees</code> - Staff information</li>
                                            <li><code>menu_items</code> - Available food items</li>
                                            <li><code>orders</code> - Order headers</li>
                                            <li><code>order_items</code> - Individual order line items</li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="info-panel">
                                    <h4>Denormalized Schema</h4>
                                    <ul>
                                        <li><strong>Advantages:</strong> Faster reads, simpler queries, better for analytics</li>
                                        <li><strong>Disadvantages:</strong> Data redundancy, update anomalies, larger storage</li>
                                        <li><strong>Best for:</strong> OLAP operations (complex reads)</li>
                                    </ul>
                                    <div class="schema-tables">
                                        <h5>Tables:</h5>
                                        <ul>
                                            <li><code>denormalized_orders</code> - Combined order data</li>
                                            <li><code>denormalized_analytics</code> - Pre-aggregated analytics data</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Simulation Tab -->
                <div class="tab-panel" id="simulation">
                    <div class="simulation-section">
                        <h2>Database Performance Simulations</h2>
                        <p class="section-description">
                            Run interactive simulations to compare normalized vs denormalized database performance
                            under different workload conditions.
                        </p>

                        <div class="simulation-grid">
                            <!-- OLTP Section -->
                            <div class="workload-section">
                                <div class="workload-header">
                                    <h4>üìù Transactional (OLTP)</h4>
                                    <p class="workload-subtitle">Write-heavy operations</p>
                                </div>
                                <div class="schema-comparison">
                                    <button class="sim-button oltp" onclick="runSimulation('oltp')">
                                        <span class="button-text">
                                            <strong>Run OLTP Test</strong><br>
                                            <small>Click to Simulate</small>
                                        </span>
                                    </button>
                                </div>
                            </div>

                            <!-- OLAP Section -->
                            <div class="workload-section">
                                <div class="workload-header">
                                    <h4>üìä Analytical (OLAP)</h4>
                                    <p class="workload-subtitle">Read-heavy operations</p>
                                </div>
                                <div class="schema-comparison">
                                    <button class="sim-button olap" onclick="runSimulation('olap')">
                                        <span class="button-text">
                                            <strong>Run OLAP Test</strong><br>
                                            <small>Click to Simulate</small>
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Key Takeaways for Simulation -->
                        <div class="simulation-takeaways">
                            <h3>üí° Expected Results</h3>
                            <div class="takeaway-cards">
                                <div class="takeaway-card">
                                    <h4>OLTP Workloads</h4>
                                    <p>Normalized schemas typically perform better for transactional operations due to ACID compliance and data integrity.</p>
                                </div>
                                <div class="takeaway-card">
                                    <h4>OLAP Workloads</h4>
                                    <p>Denormalized schemas usually show better performance for analytical queries due to reduced JOIN complexity.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Simulation Results Section -->
                    <div class="results-section" id="simulationResultsSection" style="display: none;">
                        <h2>Simulation Results</h2>

                        <!-- Performance Metrics -->
                        <div class="metrics-container">
                            <div class="metric-card">
                                <h3>Execution Time</h3>
                                <div class="metric-comparison">
                                    <div class="metric-item normalized">
                                        <span class="label">Normalized:</span>
                                        <span class="value" id="simulationNormalizedTime">-</span>
                                    </div>
                                    <div class="metric-item denormalized">
                                        <span class="label">Denormalized:</span>
                                        <span class="value" id="simulationDenormalizedTime">-</span>
                                    </div>
                                </div>
                            </div>

                            <div class="metric-card">
                                <h3>Performance Difference</h3>
                                <div class="performance-diff" id="simulationPerformanceDiff">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Schema Comparison -->
                        <div class="schema-comparison">
                            <div class="schema-panel">
                                <h3>Normalized Schema</h3>
                                <div class="schema-info">
                                    <p><strong>Structure:</strong> <span id="simulationNormalizedStructure">-</span></p>
                                    <p><strong>Tables:</strong> <span id="simulationNormalizedTables">-</span></p>
                                    <p><strong>Query:</strong> <span id="simulationNormalizedQuery">-</span></p>
                                </div>
                                <div class="results-container">
                                    <h4>Results</h4>
                                    <div class="results-table" id="simulationNormalizedResults">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>

                            <div class="schema-panel">
                                <h3>Denormalized Schema</h3>
                                <div class="schema-info">
                                    <p><strong>Structure:</strong> <span id="simulationDenormalizedStructure">-</span></p>
                                    <p><strong>Tables:</strong> <span id="simulationDenormalizedTables">-</span></p>
                                    <p><strong>Query:</strong> <span id="simulationDenormalizedQuery">-</span></p>
                                </div>
                                <div class="results-container">
                                    <h4>Results</h4>
                                    <div class="results-table" id="simulationDenormalizedResults">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Chart Visualization -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Performance Comparison</h3>
                                <div class="chart-legend">
                                    <div class="legend-item">
                                        <span class="legend-color normalized"></span>
                                        <span class="legend-text">Normalized Schema</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color denormalized"></span>
                                        <span class="legend-text">Denormalized Schema</span>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-wrapper">
                                <canvas id="simulationPerformanceChart" width="800" height="400"></canvas>
                            </div>
                        </div>

                    </div>
                </div>


                <!-- Schemas Tab -->
                <div class="tab-panel" id="schemas">
                    <div class="schema-section">
                        <h2>Database Schema Explorer</h2>
                        <p class="section-description">
                            Explore the structure and relationships of both normalized and denormalized database schemas.
                        </p>

                        <div class="schema-tabs">
                            <button class="schema-tab-button active" onclick="showSchemaView('normalized')">Normalized Schema (3NF)</button>
                            <button class="schema-tab-button" onclick="showSchemaView('denormalized')">Denormalized Schema</button>
                        </div>

                        <div class="schema-view-content">
                            <!-- Normalized Schema View -->
                            <div class="schema-view active" id="normalizedView">
                                <div class="tables-container">
                                    <!-- Tables will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Denormalized Schema View -->
                            <div class="schema-view" id="denormalizedView" style="display: none;">
                                <div class="tables-container">
                                    <!-- Tables will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </section>


        <!-- Loading Indicator -->
        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Running simulation...</p>
        </div>

        <!-- Tables Modal -->
        <div class="modal" id="tablesModal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Database Schema Explorer</h2>
                    <button class="modal-close" onclick="closeTablesModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="schema-tabs">
                        <button class="tab-button active" onclick="showSchema('normalized')">Normalized Schema (3NF)</button>
                        <button class="tab-button" onclick="showSchema('denormalized')">Denormalized Schema</button>
                    </div>

                    <div class="schema-content" id="normalizedSchema">
                        <div class="schema-description">
                            <h3>Normalized Schema (3NF)</h3>
                            <p>Follows normalization principles with minimal data redundancy and proper relationships.</p>
                        </div>
                        <div class="tables-container">
                            <!-- Tables will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="schema-content" id="denormalizedSchema" style="display: none;">
                        <div class="schema-description">
                            <h3>Denormalized Schema</h3>
                            <p>Combines multiple entities for optimized read performance with redundant data.</p>
                        </div>
                        <div class="tables-container">
                            <!-- Tables will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="app.js"></script>
</body>
</html>